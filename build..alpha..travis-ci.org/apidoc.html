<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/quartzjer/ursa"

    >ursa (v0.9.4)</a>
</h1>
<h4>RSA public/private key OpenSSL bindings for node and io.js</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.ursa">module ursa</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.assertKey">
            function <span class="apidocSignatureSpan">ursa.</span>assertKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.assertPrivateKey">
            function <span class="apidocSignatureSpan">ursa.</span>assertPrivateKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.assertPublicKey">
            function <span class="apidocSignatureSpan">ursa.</span>assertPublicKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.coerceKey">
            function <span class="apidocSignatureSpan">ursa.</span>coerceKey
            <span class="apidocSignatureSpan">(orig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.coercePrivateKey">
            function <span class="apidocSignatureSpan">ursa.</span>coercePrivateKey
            <span class="apidocSignatureSpan">(orig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.coercePublicKey">
            function <span class="apidocSignatureSpan">ursa.</span>coercePublicKey
            <span class="apidocSignatureSpan">(orig)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createKey">
            function <span class="apidocSignatureSpan">ursa.</span>createKey
            <span class="apidocSignatureSpan">(pem, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createPrivateKey">
            function <span class="apidocSignatureSpan">ursa.</span>createPrivateKey
            <span class="apidocSignatureSpan">(pem, password, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createPrivateKeyFromComponents">
            function <span class="apidocSignatureSpan">ursa.</span>createPrivateKeyFromComponents
            <span class="apidocSignatureSpan">(modulus, exponent, p, q, dp, dq, inverseQ, d)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createPublicKey">
            function <span class="apidocSignatureSpan">ursa.</span>createPublicKey
            <span class="apidocSignatureSpan">(pem, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createPublicKeyFromComponents">
            function <span class="apidocSignatureSpan">ursa.</span>createPublicKeyFromComponents
            <span class="apidocSignatureSpan">(modulus, exponent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createSigner">
            function <span class="apidocSignatureSpan">ursa.</span>createSigner
            <span class="apidocSignatureSpan">(algorithm)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.createVerifier">
            function <span class="apidocSignatureSpan">ursa.</span>createVerifier
            <span class="apidocSignatureSpan">(algorithm)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.equalKeys">
            function <span class="apidocSignatureSpan">ursa.</span>equalKeys
            <span class="apidocSignatureSpan">(key1, key2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.generatePrivateKey">
            function <span class="apidocSignatureSpan">ursa.</span>generatePrivateKey
            <span class="apidocSignatureSpan">(modulusBits, exponent)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.isKey">
            function <span class="apidocSignatureSpan">ursa.</span>isKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.isPrivateKey">
            function <span class="apidocSignatureSpan">ursa.</span>isPrivateKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.isPublicKey">
            function <span class="apidocSignatureSpan">ursa.</span>isPublicKey
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.matchingPublicKeys">
            function <span class="apidocSignatureSpan">ursa.</span>matchingPublicKeys
            <span class="apidocSignatureSpan">(key1, key2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.openSshPublicKey">
            function <span class="apidocSignatureSpan">ursa.</span>openSshPublicKey
            <span class="apidocSignatureSpan">(key, encoding)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ursa.sshFingerprint">
            function <span class="apidocSignatureSpan">ursa.</span>sshFingerprint
            <span class="apidocSignatureSpan">(sshKey, sshEncoding, outEncoding)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_NO_PADDING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_PKCS1_OAEP_PADDING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_PKCS1_PADDING</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_PKCS1_SALT_LEN_HLEN</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_PKCS1_SALT_LEN_MAX</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">ursa.</span>RSA_PKCS1_SALT_LEN_RECOVER</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ursa" id="apidoc.module.ursa">module ursa</a></h1>


    <h2>
        <a href="#apidoc.element.ursa.assertKey" id="apidoc.element.ursa.assertKey">
        function <span class="apidocSignatureSpan">ursa.</span>assertKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assertKey(obj) {
    assert(isKey(obj));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Create and return a private key from the given components.

### ursa.createPublicKeyFromComponents(modulus, exponent)

Create and return a public key from the given components.

### ursa.<span class="apidocCodeKeywordSpan">assertKey</span>(obj)

Convenient shorthand for `assert(ursa.isKey(obj))`.

### ursa.assertPrivateKey(obj)

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.assertPrivateKey" id="apidoc.element.ursa.assertPrivateKey">
        function <span class="apidocSignatureSpan">ursa.</span>assertPrivateKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assertPrivateKey(obj) {
    assert(isPrivateKey(obj));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Create and return a public key from the given components.

### ursa.assertKey(obj)

Convenient shorthand for `assert(ursa.isKey(obj))`.

### ursa.<span class="apidocCodeKeywordSpan">assertPrivateKey</span>(obj)

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.

### ursa.assertPublicKey(obj)

Convenient shorthand for `assert(ursa.isPublicKey(obj))`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.assertPublicKey" id="apidoc.element.ursa.assertPublicKey">
        function <span class="apidocSignatureSpan">ursa.</span>assertPublicKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assertPublicKey(obj) {
    assert(isPublicKey(obj));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Convenient shorthand for `assert(ursa.isKey(obj))`.

### ursa.assertPrivateKey(obj)

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.

### ursa.<span class="apidocCodeKeywordSpan">assertPublicKey</span>(obj)

Convenient shorthand for `assert(ursa.isPublicKey(obj))`.

### ursa.coerceKey(orig)

Coerce the given key value into a key object (either public or
private), returning it. If given a private key object, this just
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.coerceKey" id="apidoc.element.ursa.coerceKey">
        function <span class="apidocSignatureSpan">ursa.</span>coerceKey
        <span class="apidocSignatureSpan">(orig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function coerceKey(orig) {
    if (isKey(orig)) {
        return orig;
    } else if (isStringOrBuffer(orig)) {
        return createKey(orig);
    }

    throw new Error(&#x22;Not a key: &#x22; + orig);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.

### ursa.assertPublicKey(obj)

Convenient shorthand for `assert(ursa.isPublicKey(obj))`.

### ursa.<span class="apidocCodeKeywordSpan">coerceKey</span>(orig)

Coerce the given key value into a key object (either public or
private), returning it. If given a private key object, this just
returns it as-is. If given a string or Buffer, it tries to parse it as
PEM. Anything else will result in an error.

### ursa.coercePrivateKey(orig)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.coercePrivateKey" id="apidoc.element.ursa.coercePrivateKey">
        function <span class="apidocSignatureSpan">ursa.</span>coercePrivateKey
        <span class="apidocSignatureSpan">(orig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function coercePrivateKey(orig) {
    if (isPrivateKey(orig)) {
        return orig;
    } else if (isStringOrBuffer(orig)) {
        return createPrivateKey(orig);
    }

    throw new Error(&#x22;Not a private key: &#x22; + orig);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### ursa.coerceKey(orig)

Coerce the given key value into a key object (either public or
private), returning it. If given a private key object, this just
returns it as-is. If given a string or Buffer, it tries to parse it as
PEM. Anything else will result in an error.

### ursa.<span class="apidocCodeKeywordSpan">coercePrivateKey</span>(orig)

Coerce the given key value into a private key object, returning it. If
given a private key object, this just returns it as-is. If given a
string or Buffer, it tries to parse it as PEM. Anything else will
result in an error.

### ursa.coercePublicKey(orig)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.coercePublicKey" id="apidoc.element.ursa.coercePublicKey">
        function <span class="apidocSignatureSpan">ursa.</span>coercePublicKey
        <span class="apidocSignatureSpan">(orig)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function coercePublicKey(orig) {
    if (isPublicKey(orig)) {
        return orig;
    } else if (isStringOrBuffer(orig)) {
        return createPublicKey(orig);
    }

    throw new Error(&#x22;Not a public key: &#x22; + orig);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
### ursa.coercePrivateKey(orig)

Coerce the given key value into a private key object, returning it. If
given a private key object, this just returns it as-is. If given a
string or Buffer, it tries to parse it as PEM. Anything else will
result in an error.

### ursa.<span class="apidocCodeKeywordSpan">coercePublicKey</span>(orig)

Coerce the given key value into a public key object, returning it. If
given a private key object, this just returns it as-is. If given a
string or Buffer, it tries to parse it as PEM. Anything else will
result in an error.

### ursa.createPublicKey(pem, encoding)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createKey" id="apidoc.element.ursa.createKey">
        function <span class="apidocSignatureSpan">ursa.</span>createKey
        <span class="apidocSignatureSpan">(pem, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createKey(pem, encoding) {
    pem = decodeString(pem, encoding);

    if (isPublicKeyPem(pem)) {
        return createPublicKey(pem);
    } else if (isPrivateKeyPem(pem)) {
        return createPrivateKey(pem);
    } else {
        throw new Error(&#x22;Not a key.&#x22;);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createPrivateKey" id="apidoc.element.ursa.createPrivateKey">
        function <span class="apidocSignatureSpan">ursa.</span>createPrivateKey
        <span class="apidocSignatureSpan">(pem, password, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPrivateKey(pem, password, encoding) {
    var rsa = new RsaWrap();
    pem = decodeString(pem, encoding);
    password = decodeString(password, encoding);

    try {
        // Note: The native code is sensitive to the actual number of
        // arguments. It&#x27;s *not* okay to pass undefined as a password.
        if (password) {
            rsa.setPrivateKeyPem(pem, password);
        } else {
            rsa.setPrivateKeyPem(pem);
        }
    } catch (ex) {
        if (!isPrivateKeyPem(pem)) {
            throw new Error(&#x22;Not a private key.&#x22;);
        }
        throw ex;
    }

    return PrivateKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var fs = require(&#x27;fs&#x27;)
  , ursa = require(&#x27;ursa&#x27;)
  , crt
  , key
  , msg
  ;

key = ursa.<span class="apidocCodeKeywordSpan">createPrivateKey</span>(fs.readFileSync(&#x27;./certs/server/my-server.key.pem&#x27
;));
crt = ursa.createPublicKey(fs.readFileSync(&#x27;./certs/client/my-server.pub&#x27;));

console.log(&#x27;Encrypt with Public&#x27;);
msg = crt.encrypt(&#x22;Everything is going to be 200 OK&#x22;, &#x27;utf8&#x27;, &#x27;base64&#x27;);
console.log(&#x27;encrypted&#x27;, msg, &#x27;\n&#x27;);

console.log(&#x27;Decrypt with Private&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createPrivateKeyFromComponents" id="apidoc.element.ursa.createPrivateKeyFromComponents">
        function <span class="apidocSignatureSpan">ursa.</span>createPrivateKeyFromComponents
        <span class="apidocSignatureSpan">(modulus, exponent, p, q, dp, dq, inverseQ, d)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPrivateKeyFromComponents(modulus, exponent, p, q, dp, dq, inverseQ, d) {
    var rsa = new RsaWrap();
    rsa.createPrivateKeyFromComponents(modulus, exponent, p, q, dp, dq, inverseQ, d);

    return PrivateKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
PEM-format file.  If defined, the given password is used to decrypt
the PEM file.

The encoding, if specified, applies to both other arguments.

See &#x22;Public Key Methods&#x22; below for more details.

### ursa.<span class="apidocCodeKeywordSpan">createPrivateKeyFromComponents</span>(modulus, exponent, p, q, dp, dq, inverseQ, d)

Create and return a private key from the given components.

### ursa.createPublicKeyFromComponents(modulus, exponent)

Create and return a public key from the given components.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createPublicKey" id="apidoc.element.ursa.createPublicKey">
        function <span class="apidocSignatureSpan">ursa.</span>createPublicKey
        <span class="apidocSignatureSpan">(pem, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPublicKey(pem, encoding) {
    var rsa = new RsaWrap();
    pem = decodeString(pem, encoding);

    try {
        rsa.setPublicKeyPem(pem);
    } catch (ex) {
        if (!isPublicKeyPem(pem)) {
            throw new Error(&#x22;Not a public key.&#x22;);
        }
        throw ex;
    }

    return PublicKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  , ursa = require(&#x27;ursa&#x27;)
  , crt
  , key
  , msg
  ;

key = ursa.createPrivateKey(fs.readFileSync(&#x27;./certs/server/my-server.key.pem&#x27;));
crt = ursa.<span class="apidocCodeKeywordSpan">createPublicKey</span>(fs.readFileSync(&#x27;./certs/client/my-server.pub&#x27;));

console.log(&#x27;Encrypt with Public&#x27;);
msg = crt.encrypt(&#x22;Everything is going to be 200 OK&#x22;, &#x27;utf8&#x27;, &#x27;base64&#x27;);
console.log(&#x27;encrypted&#x27;, msg, &#x27;\n&#x27;);

console.log(&#x27;Decrypt with Private&#x27;);
msg = key.decrypt(msg, &#x27;base64&#x27;, &#x27;utf8&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createPublicKeyFromComponents" id="apidoc.element.ursa.createPublicKeyFromComponents">
        function <span class="apidocSignatureSpan">ursa.</span>createPublicKeyFromComponents
        <span class="apidocSignatureSpan">(modulus, exponent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createPublicKeyFromComponents(modulus, exponent) {
    var rsa = new RsaWrap();
    rsa.createPublicKeyFromComponents(modulus, exponent);
    return PublicKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

See &#x22;Public Key Methods&#x22; below for more details.

### ursa.createPrivateKeyFromComponents(modulus, exponent, p, q, dp, dq, inverseQ, d)

Create and return a private key from the given components.

### ursa.<span class="apidocCodeKeywordSpan">createPublicKeyFromComponents</span>(modulus, exponent)

Create and return a public key from the given components.

### ursa.assertKey(obj)

Convenient shorthand for `assert(ursa.isKey(obj))`.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createSigner" id="apidoc.element.ursa.createSigner">
        function <span class="apidocSignatureSpan">ursa.</span>createSigner
        <span class="apidocSignatureSpan">(algorithm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createSigner(algorithm) {
    var hash = crypto.createHash(algorithm);
    var self = {};

    function update(buf, bufEncoding) {
        buf = decodeString(buf, bufEncoding);
        hash.update(buf);
        return self;
    }

    function sign(privateKey, outEncoding) {
        var hashBuf = new Buffer(hash.digest(BINARY), BINARY);
        return privateKey.sign(algorithm, hashBuf, undefined, outEncoding);
    }

    self.sign = sign;
    self.update = update;
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
result in an error.

### ursa.createPublicKey(pem, encoding)

Create and return a public key read in from the given PEM-format file.
See &#x22;Public Key Methods&#x22; below for more details.

### ursa.<span class="apidocCodeKeywordSpan">createSigner</span>(algorithm)

Create and return a signer which can sign a hash generated with the named
algorithm (such as `&#x22;sha256&#x22;` or `&#x22;md5&#x22;`). See &#x22;Signer Methods&#x22; below
for more details.

This function is similar to `crypto.createSign()`, except this function
takes a hash algorithm name (e.g., `&#x22;sha256&#x22;`) and not a crypto+hash name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.createVerifier" id="apidoc.element.ursa.createVerifier">
        function <span class="apidocSignatureSpan">ursa.</span>createVerifier
        <span class="apidocSignatureSpan">(algorithm)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createVerifier(algorithm) {
    var hash = crypto.createHash(algorithm);
    var self = {};

    function update(buf, bufEncoding) {
        buf = decodeString(buf, bufEncoding);
        hash.update(buf);
        return self;
    }

    function verify(publicKey, sig, sigEncoding) {
        var hashBuf = new Buffer(hash.digest(BINARY), BINARY);
        sig = decodeString(sig, sigEncoding);
        return publicKey.verify(algorithm, hashBuf, sig);
    }

    self.update = update;
    self.verify = verify;
    return self;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
algorithm (such as `&#x22;sha256&#x22;` or `&#x22;md5&#x22;`). See &#x22;Signer Methods&#x22; below
for more details.

This function is similar to `crypto.createSign()`, except this function
takes a hash algorithm name (e.g., `&#x22;sha256&#x22;`) and not a crypto+hash name
combination (e.g., `&#x22;RSA-SHA256&#x22;`).

### ursa.<span class="apidocCodeKeywordSpan">createVerifier</span>(algorithm)

Create and return a verifier which can verify a hash generated with the
named algorithm (such as `&#x22;sha256&#x22;` or `&#x22;md5&#x22;`). See &#x22;Verifier Methods&#x22; below
for more details.

This function is similar to `crypto.createVerify()`, except this function
takes a hash algorithm name (e.g., `&#x22;sha256&#x22;`) and not a crypto+hash name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.equalKeys" id="apidoc.element.ursa.equalKeys">
        function <span class="apidocSignatureSpan">ursa.</span>equalKeys
        <span class="apidocSignatureSpan">(key1, key2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function equalKeys(key1, key2) {
    // See above for rationale. In this case, there&#x27;s no ssh form for
    // private keys, so we just use PEM for that.

    if (isPrivateKey(key1) &#x26;&#x26; isPrivateKey(key2)) {
        var pem1 = key1.toPrivatePem(UTF8);
        var pem2 = key2.toPrivatePem(UTF8);
        return pem1 === pem2;
    }

    if (isPublicKey(key1) &#x26;&#x26; isPublicKey(key2)) {
        return matchingPublicKeys(key1, key2);
    }

    return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
named algorithm (such as `&#x22;sha256&#x22;` or `&#x22;md5&#x22;`). See &#x22;Verifier Methods&#x22; below
for more details.

This function is similar to `crypto.createVerify()`, except this function
takes a hash algorithm name (e.g., `&#x22;sha256&#x22;`) and not a crypto+hash name
combination (e.g., `&#x22;RSA-SHA256&#x22;`).

### ursa.<span class="apidocCodeKeywordSpan">equalKeys</span>(key1, key2)

This returns `true` if and only if both arguments are key objects of
the same type (public or private) and their contents match.

### ursa.generatePrivateKey(modulusBits, exponent)

Create and return a freshly-generated private key (aka a keypair).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.generatePrivateKey" id="apidoc.element.ursa.generatePrivateKey">
        function <span class="apidocSignatureSpan">ursa.</span>generatePrivateKey
        <span class="apidocSignatureSpan">(modulusBits, exponent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function generatePrivateKey(modulusBits, exponent) {
    if (modulusBits === undefined) {
        modulusBits = 2048;
    }

    if (exponent === undefined) {
        exponent = 65537;
    }

    var rsa = new RsaWrap();
    rsa.generatePrivateKey(modulusBits, exponent);

    return PrivateKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
combination (e.g., `&#x22;RSA-SHA256&#x22;`).

### ursa.equalKeys(key1, key2)

This returns `true` if and only if both arguments are key objects of
the same type (public or private) and their contents match.

### ursa.<span class="apidocCodeKeywordSpan">generatePrivateKey</span>(modulusBits, exponent)

Create and return a freshly-generated private key (aka a keypair).
The first argument indicates the number of bits in the modulus (1024
or more is generally considered secure). The second argument indicates
the exponent value, which must be odd (65537 is the typical value; 3
and 17 are also common).  Both arguments are optional and default to
2048 and 65537 (respectively).
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.isKey" id="apidoc.element.ursa.isKey">
        function <span class="apidocSignatureSpan">ursa.</span>isKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isKey(obj) {
    var obj2;

    try {
        var unseal = obj.unseal;
        if (typeof unseal !== &#x22;function&#x22;) {
            return false;
        }
        obj2 = unseal(theUnsealer);
    } catch (ex) {
        // Ignore; can&#x27;t assume that other objects obey any particular
        // unsealing protocol.
        // TODO: Log?
        return false;
    }

    return obj2 !== undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### ursa.createPublicKeyFromComponents(modulus, exponent)

Create and return a public key from the given components.

### ursa.assertKey(obj)

Convenient shorthand for `assert(ursa.<span class="apidocCodeKeywordSpan">isKey</span>(obj))`.

### ursa.assertPrivateKey(obj)

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.

### ursa.assertPublicKey(obj)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.isPrivateKey" id="apidoc.element.ursa.isPrivateKey">
        function <span class="apidocSignatureSpan">ursa.</span>isPrivateKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPrivateKey(obj) {
    return isKey(obj) &#x26;&#x26; (obj.decrypt !== undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### ursa.assertKey(obj)

Convenient shorthand for `assert(ursa.isKey(obj))`.

### ursa.assertPrivateKey(obj)

Convenient shorthand for `assert(ursa.<span class="apidocCodeKeywordSpan">isPrivateKey</span>(obj))`.

### ursa.assertPublicKey(obj)

Convenient shorthand for `assert(ursa.isPublicKey(obj))`.

### ursa.coerceKey(orig)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.isPublicKey" id="apidoc.element.ursa.isPublicKey">
        function <span class="apidocSignatureSpan">ursa.</span>isPublicKey
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isPublicKey(obj) {
    return isKey(obj) &#x26;&#x26; !isPrivateKey(obj);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### ursa.assertPrivateKey(obj)

Convenient shorthand for `assert(ursa.isPrivateKey(obj))`.

### ursa.assertPublicKey(obj)

Convenient shorthand for `assert(ursa.<span class="apidocCodeKeywordSpan">isPublicKey</span>(obj))`.

### ursa.coerceKey(orig)

Coerce the given key value into a key object (either public or
private), returning it. If given a private key object, this just
returns it as-is. If given a string or Buffer, it tries to parse it as
PEM. Anything else will result in an error.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.matchingPublicKeys" id="apidoc.element.ursa.matchingPublicKeys">
        function <span class="apidocSignatureSpan">ursa.</span>matchingPublicKeys
        <span class="apidocSignatureSpan">(key1, key2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function matchingPublicKeys(key1, key2) {
    if (!(isKey(key1) &#x26;&#x26; isKey(key2))) {
        return false;
    }

    // This isn&#x27;t the most efficient implementation, but it will suffice:
    // We convert both to ssh form, which has very little leeway for
    // variation, and compare bytes.

    var ssh1 = key1.toPublicSsh(UTF8);
    var ssh2 = key2.toPublicSsh(UTF8);

    return ssh1 === ssh2;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Return `true` if the given object is a public key object that
was created by this module. Return `false` if not.

Note that, even though all the public key operations work on private
keys, this function only returns true if the given object is a
public key, per se.

### ursa.<span class="apidocCodeKeywordSpan">matchingPublicKeys</span>(key1, key2)

This returns `true` if and only if both arguments are key objects of
some sort (either can be public or private, and they don&#x27;t have to
be the same) and their public aspects match each other.

### ursa.openSshPublicKey(key, encoding)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.openSshPublicKey" id="apidoc.element.ursa.openSshPublicKey">
        function <span class="apidocSignatureSpan">ursa.</span>openSshPublicKey
        <span class="apidocSignatureSpan">(key, encoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function openSshPublicKey(key, encoding) {
    if (!Buffer.isBuffer(key)) {
        key = key.substr(0, 3) === &#x27;ssh&#x27; ? key.split(&#x27; &#x27;)[1] : key;
        key = new Buffer(key, encoding || &#x27;base64&#x27;);
    }

    function parsePublicKey(key) {
        var parts = [],
            partsLength = 3;

        while(key.length) {
            var dLen = key.readInt32BE(0);
            var data = key.slice(4, dLen+4);
            key = key.slice(4+dLen);
            parts.push(data);
            if (!(--partsLength)) break;
        }

        return {
            modulus :   parts[2],
            exponent:   parts[1],
            type    :   parts[0]
        };
    }

    var pubKey = parsePublicKey(key);
    var rsa = new RsaWrap();

    if (pubKey.type != &#x27;ssh-rsa&#x27;) {
        throw new TypeError(&#x27;Only &#x22;ssh-rsa&#x22; format supported&#x27;);
    }

    rsa.openPublicSshKey(pubKey.modulus, pubKey.exponent);

    return PublicKey(rsa);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

### ursa.matchingPublicKeys(key1, key2)

This returns `true` if and only if both arguments are key objects of
some sort (either can be public or private, and they don&#x27;t have to
be the same) and their public aspects match each other.

### ursa.<span class="apidocCodeKeywordSpan">openSshPublicKey</span>(key, encoding)

This returns `publicKey` from ssh-rsa public key-string. First argument
must be a string like `ssh-rsa AAAAB3Nz.... user@localhost` or Buffer of pubKey bits.

### ursa.sshFingerprint(sshKey, sshEncoding, outEncoding)

Return the SSH-style public key fingerprint of the given SSH-format
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ursa.sshFingerprint" id="apidoc.element.ursa.sshFingerprint">
        function <span class="apidocSignatureSpan">ursa.</span>sshFingerprint
        <span class="apidocSignatureSpan">(sshKey, sshEncoding, outEncoding)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sshFingerprint(sshKey, sshEncoding, outEncoding) {
    var hash = crypto.createHash(MD5);

    hash.update(decodeString(sshKey, sshEncoding));
    var result = new Buffer(hash.digest(BINARY), BINARY);
    return encodeBuffer(result, outEncoding);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
be the same) and their public aspects match each other.

### ursa.openSshPublicKey(key, encoding)

This returns `publicKey` from ssh-rsa public key-string. First argument
must be a string like `ssh-rsa AAAAB3Nz.... user@localhost` or Buffer of pubKey bits.

### ursa.<span class="apidocCodeKeywordSpan">sshFingerprint</span>(sshKey, sshEncoding, outEncoding)

Return the SSH-style public key fingerprint of the given SSH-format
public key (which was, perhaps, the result of a call to
`toPublicSsh()` on a key object).

This is no more and no less than an MD5 hash of the given SSH-format
public key. This function doesn&#x27;t actually check to see if the given
...</pre></li>
    </ul>














</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
